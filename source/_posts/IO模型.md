---
title: IO模型
date: 2019-10-30 23:02:22
tags: IO
categories:
---

# 什么是I/O
I/O即输入输出，每个应用系统间相互的依赖调用都无法完全避免，系统间调用称为远程通信。每个应用系统自身也将或多或少地产生数据，本地调用称为本地读/写。I/O便是远程通信和本地读/写的核心。
一次I/O操作涉及如下步骤：
- 用户进程调用read方法，向内核发起读请求并等待就绪；
- 内核将要读取的数据复制到文件描述符指定的缓冲区；
- 内核将数据从缓冲区复制到用户空间；
I/O的发展严重落后与CPU，越来越多的成为系统性能瓶颈。

# I/O模型分类
## 同步IO
内核将数据准备好后，还需等待内核将数据复制到用户进程才能进行处理
### 阻塞I/O
用户进程发起I/O操作后，需等待操作完成后才能继续运行。阻塞I/O易于理解但性能不高，CPU利用率及系统吞吐量低。虽然可以进行优化，为每个Socket使用独立线程但会造成线程膨胀，系统越来越慢。还可以使用线程池控制线程数量，但无法实现系统最优。
### 非阻塞I/O
用户进程发起I/O操作后，无需等待操作完成即可继续执行，但用户进程需定期询问操作是否就绪。额外的线程轮询，会造成CPU浪费
### 多路复用

## 异步I/O

## Select、Poll、Epoll

## Java 中的IO

